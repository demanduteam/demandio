<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demandio</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Babel for JSX (Standalone) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* Custom Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        .animate-fade-in-down {
            animation: fadeIn 0.3s ease-out forwards;
        }
        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- 
      We use type="text/babel" with data-type="module" to allow ES modules (imports) 
      to work directly in the browser via Babel. This solves the UMD dependency issues.
    -->
    <script type="text/babel" data-type="module">
        import React, { useState } from 'https://esm.sh/react@18.2.0';
        import { createRoot } from 'https://esm.sh/react-dom@18.2.0/client';
        
        // Import Lucide Icons directly from esm.sh
        import { 
            Wrench, Car, Settings, Briefcase, ChevronRight, CheckCircle, Globe, 
            ArrowRight, Calculator, Video, Menu, X, ShieldCheck, RefreshCw, 
            PieChart, PhoneOff, Database, Euro, Calendar, MessageSquare, 
            MapPin, User, AlertTriangle, FileText, Send, HelpCircle, Zap, 
            Truck, Home, GraduationCap, Banknote, ClipboardCheck, Mic, 
            QrCode, Smartphone, ListChecks, Package, Barcode, Grid, 
            FileBarChart, Trash2, Receipt, Newspaper, ExternalLink, Quote, 
            TrendingUp, Users, Layout 
        } from 'https://esm.sh/lucide-react@0.292.0';

        const Demandio = () => {
            const [lang, setLang] = useState('nl'); // Default to Dutch
            const [activeRole, setActiveRole] = useState(null);
            const [currentView, setCurrentView] = useState('landing'); // 'landing', 'choice', 'subsidy_tool', 'vsme_tool'
            const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

            // Form State
            const [formData, setFormData] = useState({ 
                name: '', 
                email: '', 
                company: '', 
                city: '', 
                role: '', 
                customRole: '',
                newsletter: false // New field for newsletter
            });

            const [formSubmitted, setFormSubmitted] = useState(false);

            // Subsidy Tool State
            const [subsidyStep, setSubsidyStep] = useState(1);
            const [subsidyData, setSubsidyData] = useState({
                hasEH3: null, // boolean
                recentPurchase: null, // boolean
                categories: [], // array of strings: 'ev', 'fleet', 'building', 'training'
                invoiceValue: null, // boolean (>2500)
                isElectricVehicle: null, // boolean
                isHeavyVehicle: null, // boolean (>2500kg)
                smallStaff: null // boolean (<50)
            });

            // VSME Tool State
            const [vsmeView, setVsmeView] = useState('setup'); // 'setup', 'wizard', 'report'
            const [vsmeStepIndex, setVsmeStepIndex] = useState(0); 
            const [vsmeStepsList, setVsmeStepsList] = useState([]);
            const [vsmeConfig, setVsmeConfig] = useState({ listed: false, bpModule: false, comprehensive: false });
            
            // Initial VSME Data with defaults or empty strings
            const [vsmeData, setVsmeData] = useState({
                isListed: 'no',
                reportPurpose: 'basic',
                hasPolicies: 'no',
                b1_name: '', b1_basis: 'Individual basis', b1_legal_form: '', b1_nace: '', b1_country: '', b1_turnover: '', b1_employees: '',
                b2_practices: '',
                b3_energy_total: '', b3_energy_ren: '', b3_energy_nonren: '', b3_scope1: '', b3_scope2: '',
                b4_pollution: '', b5_sensitive: '', b6_water: '', b7_waste_haz: '', b7_waste_recycled: '',
                b8_perm: '', b8_temp: '', b8_female: '', b9_accidents: '', b10_minwage: 'Yes',
                b11_convictions: '', b11_fines: '',
                bp_code: 'No', bp_grievance: 'No', bp_payment: '', bp_excluded_rev: '', bp_scope3_status: 'Not Measured', bp_climate_risks: '',
                c1_strategy: '', c2_policies: '', c3_targets: '', c4_risks: '', c5_mgmt_gender: '', c6_policy: 'No', c7_incidents: 'None', c8_revenue: '', c9_board_gender: ''
            });

            // Content Dictionary
            const content = {
                en: {
                    nav: { solutions: "Solutions", news: "News", subsidy_guide: "Subsidy Roadmap", contact: "Contact" },
                    hero: {
                        title: "Move Your Garage From the Paper Age to the Smart Age",
                        subtitle: "The platform that empowers every role in your garage. From mechanic to owner, we convert chaos into profit.",
                        cta: "Calculate Lost Revenue",
                        trust: "Trusted by forward-thinking garages in the Netherlands"
                    },
                    stats: {
                        claimed: "â‚¬2.4M+ Subsidies Claimed",
                        garages: "150+ Garages Connected",
                        hours: "12k+ Hours Saved"
                    },
                    roles: {
                        title: "Select your role to see your superpowers",
                        garage_owner: "Garage Owner",
                        advisor: "Service Advisor",
                        mechanic: "Mechanic",
                        warehouse: "Warehouse Mgr.",
                        financial: "Accountant/Admin",
                    },
                    solutions: { title: "Your Toolkit", back: "Choose a different role", cta_button: "Start Free Pilot", cta_desc: "Ready to optimize your workflow?" },
                    // News Section Content
                    news: {
                        title: "Industry News & Subsidy Alerts",
                        subtitle: "Stay ahead of regulations and opportunities.",
                        read_more: "Read Source",
                        items: [
                            {
                                title: "SEBA Subsidy Pot Closing Soon",
                                date: "12 Oct 2024",
                                source: "RVO.nl",
                                desc: "The budget for electric commercial vehicles (SEBA) is 85% full. Apply before it's too late.",
                                link: "#"
                            },
                            {
                                title: "New VSME Reporting Standards",
                                date: "05 Nov 2024",
                                source: "EFRAG",
                                desc: "Banks will require the new simplified ESG report (VSME) for loans above â‚¬50k starting 2025.",
                                link: "#"
                            },
                            {
                                title: "MIA/Vamil List 2025 Updates",
                                date: "01 Dec 2024",
                                source: "Belastingdienst",
                                desc: "New categories for hydrogen equipment and battery recycling added to the tax relief list.",
                                link: "#"
                            }
                        ]
                    },
                    testimonials: {
                        title: "Trusted by Industry Leaders",
                        t1_quote: "We recovered â‚¬4,500 in subsidies we didn't even know existed. The Subsidy Radar pays for itself.",
                        t1_author: "Jan de Vries, Owner at Vakgarage Amsterdam",
                        t2_quote: "The video tool reduced our phone time by half. Customers just click 'Approve' on WhatsApp.",
                        t2_author: "Sarah Jansen, Service Advisor at AutoCenter Utrecht"
                    },
                    // Subsidy Roadmap Section
                    subsidy_roadmap: {
                        title: "Your Roadmap to Free Government Money",
                        subtitle: "How to claim subsidies like MIA, Vamil, and SEBA in 4 simple steps.",
                        step1: "Check Eligibility",
                        step1_desc: "Use our tool to scan purchases.",
                        step2: "Validation",
                        step2_desc: "We verify invoice details.",
                        step3: "Submission",
                        step3_desc: "Auto-send to RVO portal.",
                        step4: "Cash In",
                        step4_desc: "Receive funds in your account.",
                        cta: "See How Much You Can Get"
                    },
                    trust_badges: { bovag: "BOVAG Standards Compliant", rdw: "Connected to RDW Data", iso: "ISO 27001 Data Security" },
                    form: {
                        title: "Get Early Access & Check Tools",
                        name: "Full Name",
                        email: "Email Address",
                        company: "Company Name",
                        city: "City",
                        role: "Your Role",
                        role_placeholder: "Select your role...",
                        role_other: "Other (Please specify)",
                        custom_role_placeholder: "e.g., Innovation Manager",
                        newsletter: "Keep me updated on new subsidies and VSME regulations.",
                        submit: "Continue to Tools",
                        success: "We have received your details. Loading tool selection..."
                    },
                    footer: { rights: "Â© 2026 Demandio Netherlands. All rights reserved." },
                    // Subsidy Tool Content
                    tool: {
                        step1: {
                            title: "The Gatekeeper",
                            msg: "Hi! Let's see how much the Dutch government can help upgrade your garage. First, a technical question:",
                            q: "Do you have eHerkenning Level 3 (EH3)?",
                            yes: "Yes, I have it.",
                            no: "No, or I don't know what it is.",
                            alert: "You need this ID for subsidies. Don't worry! Click here to get a free guide on how to get EH3. Let's continue calculating your potential for now."
                        },
                        step2: {
                            title: "The 90-Day Rule",
                            msg: "Many subsidies have a golden rule: apply within 3 months of purchase.",
                            q: "Have you bought new equipment or signed a contract (Offerte) in the last 3 months?",
                            yes: "Yes, recently.",
                            no: "No, but planning to soon."
                        },
                        step3: {
                            title: "Activity & Details",
                            msg: "Select activities to see required details:",
                            opt_ev: "EV Equipment (Charging stations, EV tools)",
                            opt_fleet: "Fleet Renewal (Electric vans/cargo)",
                            opt_building: "Building Optimization (LED, Heat pump)",
                            opt_training: "Training (Staff education, NEN 9140)",
                            // Questions embedded in Step 3
                            q_ev: "Is your invoice amount above â‚¬2,500?",
                            q_fleet_electric: "Is the vehicle fully electric?",
                            q_fleet_weight: "Is the weight above 2,500 kg?",
                            q_training: "Does your garage have fewer than 50 employees?"
                        },
                        step5: { // Note: Step 4 is merged into 3, so next logical step is results (internally mapped)
                            title: "Your Potential",
                            msg: "Congratulations! Based on your answers, your garage has potential for:",
                            card_mia: "MIA/Vamil",
                            card_mia_desc: "Tax deduction potential up to 45% of purchase cost.",
                            card_seba: "SEBA Grant",
                            card_seba_desc: "Receive up to â‚¬5,000 cash for electric vans.",
                            card_slim: "SLIM Subsidy",
                            card_slim_desc: "Reimbursement up to 80% of staff training costs."
                        },
                        step6: {
                            title: "Don't lose this money!",
                            msg: "What should be the next step?",
                            btn_esg: "Generate ESG Kit",
                            btn_acc: "Send to Accountant",
                            btn_consult: "Book Free Consultation"
                        },
                        next: "View Results",
                        back: "Back",
                        yes: "Yes",
                        no: "No"
                    },
                    // Choice View Content
                    choice: {
                        title: "Welcome aboard,",
                        subtitle: "What is your main goal today?",
                        card1_title: "Subsidy Finder",
                        card1_desc: "Scan your purchases and find unclaimed government money (SEBA, MIA, SLIM).",
                        card1_btn: "Find Subsidies",
                        card2_title: "VSME Report Generator",
                        card2_desc: "Create a bank-ready ESG report (VSME Standard) for loans and leasing.",
                        card2_btn: "Create Report"
                    }
                },
                nl: {
                    nav: { solutions: "Oplossingen", news: "Nieuws", subsidy_guide: "Subsidie Route", contact: "Contact" },
                    hero: {
                        title: "Breng uw garage van het papiertijdperk naar het slimme tijdperk",
                        subtitle: "Het platform dat elke rol in uw garage versterkt. Van monteur tot eigenaar, wij zetten chaos om in winst.",
                        cta: "Bereken Gederfde Inkomsten",
                        trust: "Vertrouwd door toekomstgerichte garages in Nederland"
                    },
                    stats: {
                        claimed: "â‚¬2.4M+ Subsidies Geclaimd",
                        garages: "150+ Garages Aangesloten",
                        hours: "12k+ Uren Bespaard"
                    },
                    roles: {
                        title: "Kies uw rol om uw superkrachten te zien",
                        garage_owner: "Garagehouder",
                        advisor: "Service Adviseur",
                        mechanic: "Monteur",
                        warehouse: "Magazijn Manager",
                        financial: "Boekhouder / Admin",
                    },
                    solutions: { title: "Uw Gereedschapskist", back: "Kies een andere rol", cta_button: "Start Gratis Pilot", cta_desc: "Klaar om uw workflow te optimaliseren?" },
                    // News Section Content
                    news: {
                        title: "Sector Nieuws & Subsidie Alerts",
                        subtitle: "Blijf op de hoogte van regelgeving en kansen.",
                        read_more: "Bekijk Bron",
                        items: [
                            {
                                title: "SEBA Subsidiepot Bijna Leeg",
                                date: "12 Okt 2024",
                                source: "RVO.nl",
                                desc: "Het budget voor elektrische bestelauto's (SEBA) is voor 85% benut. Vraag aan voordat het te laat is.",
                                link: "#"
                            },
                            {
                                title: "Nieuwe VSME Rapportage Normen",
                                date: "05 Nov 2024",
                                source: "EFRAG",
                                desc: "Banken eisen vanaf 2025 de nieuwe vereenvoudigde ESG-rapportage (VSME) voor leningen boven â‚¬50k.",
                                link: "#"
                            },
                            {
                                title: "MIA/Vamil Lijst 2025 Updates",
                                date: "01 Dec 2024",
                                source: "Belastingdienst",
                                desc: "Nieuwe categorieÃ«n voor waterstofapparatuur en batterijrecycling toegevoegd aan de lijst.",
                                link: "#"
                            }
                        ]
                    },
                    testimonials: {
                        title: "Vertrouwd door Industrie Leiders",
                        t1_quote: "We hebben â‚¬4.500 aan subsidies teruggevonden die we niet eens wisten. De Subsidie Radar betaalt zichzelf terug.",
                        t1_author: "Jan de Vries, Eigenaar bij Vakgarage Amsterdam",
                        t2_quote: "De videotool heeft onze telefoontijd gehalveerd. Klanten klikken gewoon op 'Akkoord' in WhatsApp.",
                        t2_author: "Sarah Jansen, Service Adviseur bij AutoCenter Utrecht"
                    },
                    // New Subsidy Roadmap Section
                    subsidy_roadmap: {
                        title: "Uw Route naar Gratis Overheidsgeld",
                        subtitle: "Hoe u subsidies zoals MIA, Vamil en SEBA claimt in 4 simpele stappen.",
                        step1: "Check Geschiktheid",
                        step1_desc: "Gebruik onze tool om aankopen te scannen.",
                        step2: "Validatie",
                        step2_desc: "Wij verifiÃ«ren de factuurdetails.",
                        step3: "Indienen",
                        step3_desc: "Automatisch versturen naar RVO.",
                        step4: "Uitbetaling",
                        step4_desc: "Ontvang geld op uw rekening.",
                        cta: "Bekijk Hoeveel U Kunt Krijgen"
                    },
                    trust_badges: { bovag: "Voldoet aan BOVAG normen", rdw: "Gekoppeld aan RDW Data", iso: "ISO 27001 Dataveiligheid" },
                    form: {
                        title: "Vraag toegang aan & Check Tools",
                        name: "Volledige naam",
                        email: "E-mailadres",
                        company: "Bedrijfsnaam",
                        city: "Stad",
                        role: "Uw Rol",
                        role_placeholder: "Selecteer uw rol...",
                        role_other: "Anders (specificeer a.u.b.)",
                        custom_role_placeholder: "bijv. Innovatiemanager",
                        newsletter: "Houd mij op de hoogte van nieuwe subsidies en VSME regels.",
                        submit: "Ga naar Tools",
                        success: "We hebben uw gegevens ontvangen. Tool selectie wordt geladen..."
                    },
                    footer: { rights: "Â© 2026 Demandio Nederland. Alle rechten voorbehouden." },
                    // Subsidy Tool Content
                    tool: {
                        step1: {
                            title: "De Poortwachter",
                            msg: "Hallo! Laten we kijken hoeveel de overheid kan bijdragen aan uw garage. Eerst een technische vraag:",
                            q: "Heeft u eHerkenning niveau 3 (EH3)?",
                            yes: "Ja, dat heb ik.",
                            no: "Nee, of ik weet niet wat het is.",
                            alert: "Zonder dit ID kunt u geen subsidie aanvragen. Geen zorgen! Klik hier voor een gratis handleiding voor EH3. Laten we nu doorgaan met berekenen."
                        },
                        step2: {
                            title: "De 90-Dagen Regel",
                            msg: "Veel subsidies hebben een gouden regel: vraag aan binnen 3 maanden na aankoop.",
                            q: "Heeft u de afgelopen 3 maanden apparatuur gekocht of een offerte getekend?",
                            yes: "Ja, onlangs.",
                            no: "Nee, maar binnenkort van plan."
                        },
                        step3: {
                            title: "Activiteit & Details",
                            msg: "Selecteer activiteiten en beantwoord de details direct:",
                            opt_ev: "EV Apparatuur (Laadpalen, EV tools)",
                            opt_fleet: "Vlootvernieuwing (Elektrische busjes/cargo)",
                            opt_building: "Pand Optimalisatie (LED, Warmtepomp)",
                            opt_training: "Opleiding (Personeelstraining, NEN 9140)",
                            // Questions embedded in Step 3
                            q_ev: "Is het factuurbedrag hoger dan â‚¬2.500?",
                            q_fleet_electric: "Is het voertuig volledig elektrisch?",
                            q_fleet_weight: "Is het gewicht boven de 2.500 kg?",
                            q_training: "Heeft uw garage minder dan 50 medewerkers?"
                        },
                        step5: {
                            title: "Uw Potentieel",
                            msg: "Gefeliciteerd! Op basis van uw antwoorden heeft uw garage potentie voor:",
                            card_mia: "MIA/Vamil",
                            card_mia_desc: "Fiscale aftrek tot 45% van de investeringskosten.",
                            card_seba: "SEBA Subsidie",
                            card_seba_desc: "Ontvang tot â‚¬5.000 cash voor elektrische bestelwagens.",
                            card_slim: "SLIM Regeling",
                            card_slim_desc: "Vergoeding tot 80% van opleidingskosten."
                        },
                        step6: {
                            title: "Laat dit geld niet liggen!",
                            msg: "Wat wilt u nu doen?",
                            btn_esg: "Genereer ESG Kit",
                            btn_acc: "Stuur naar Boekhouder",
                            btn_consult: "Boek Gratis Consult"
                        },
                        next: "Bekijk Resultaten",
                        back: "Terug",
                        yes: "Ja",
                        no: "Nee"
                    },
                    // Choice View Content
                    choice: {
                        title: "Welkom aan boord,",
                        subtitle: "Wat is uw belangrijkste doel vandaag?",
                        card1_title: "Subsidie Zoeker",
                        card1_desc: "Scan uw aankopen en vind niet-geclaimd overheidsgeld (SEBA, MIA, SLIM).",
                        card1_btn: "Zoek Subsidies",
                        card2_title: "VSME Rapport Generator",
                        card2_desc: "Maak een bank-klaar ESG rapport (VSME Standaard) voor leningen en leasing.",
                        card2_btn: "Maak Rapport"
                    }
                }
            };

            const t = content[lang];
            const tt = content[lang].tool;

            const handleRoleSelect = (role) => {
                setActiveRole(role);
                setTimeout(() => { document.getElementById('solutions-section')?.scrollIntoView({ behavior: 'smooth' }); }, 100);
            };

            const handleFormSubmit = (e) => {
                e.preventDefault();
                setFormSubmitted(true);
                // Redirect to Choice View instead of directly to Subsidy Tool
                setTimeout(() => {
                    setCurrentView('choice'); 
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }, 1500);
            };

            const handleCategoryToggle = (category) => {
                setSubsidyData(prev => {
                const cats = prev.categories.includes(category)
                    ? prev.categories.filter(c => c !== category)
                    : [...prev.categories, category];
                return { ...prev, categories: cats };
                });
            };

            // Helper to determine next step from step 3 (Now goes to results)
            const nextFromStep3 = () => {
                if (subsidyData.categories.length === 0) return alert("Select at least one.");
                setSubsidyStep(5); // Skip old step 4, go straight to results (now id 5)
            };

            // Helper to determine subsidies in Step 5
            const calculateSubsidies = () => {
                const results = [];
                // Logic for MIA
                if ((subsidyData.categories.includes('ev') && subsidyData.invoiceValue) || 
                    (subsidyData.categories.includes('building'))) {
                    results.push({ type: 'mia', title: tt.step5.card_mia, desc: tt.step5.card_mia_desc });
                }
                // Logic for SEBA
                if (subsidyData.categories.includes('fleet') && subsidyData.isElectricVehicle && subsidyData.isHeavyVehicle) {
                    results.push({ type: 'seba', title: tt.step5.card_seba, desc: tt.step5.card_seba_desc });
                }
                // Logic for SLIM
                if (subsidyData.categories.includes('training') && subsidyData.smallStaff) {
                    results.push({ type: 'slim', title: tt.step5.card_slim, desc: tt.step5.card_slim_desc });
                }
                
                // Fallback if no specific logic met but category selected (Generic potential)
                if (results.length === 0 && subsidyData.categories.length > 0) {
                    results.push({ type: 'mia', title: tt.step5.card_mia, desc: tt.step5.card_mia_desc });
                }
                return results;
            };

            // VSME Logic
            const handleVsmeChange = (field, value) => {
                setVsmeData(prev => ({ ...prev, [field]: value }));
            };

            const startVsmeApp = () => {
                if (vsmeData.isListed === 'yes') {
                    alert("Since you are listed, this VSME tool is not sufficient. Please use ESRS LSME standards.");
                    return;
                }
                
                const isBP = vsmeData.reportPurpose === 'partner';
                const isComp = vsmeData.hasPolicies === 'yes';
                setVsmeConfig({ listed: false, bpModule: isBP, comprehensive: isComp });

                // Define steps
                const steps = ['gen', 'env', 'soc', 'gov'];
                if (isBP) steps.push('bp');
                if (isComp) steps.push('c1', 'c2');
                steps.push('generate');
                
                setVsmeStepsList(steps);
                setVsmeView('wizard');
                setVsmeStepIndex(0);
                window.scrollTo(0,0);
            };

            const fillFakeVsmeData = () => {
                setVsmeData(prev => ({
                    ...prev,
                    b1_name: "AutoParts NL B.V.", b1_basis: "Individual basis", b1_legal_form: "B.V.", b1_nace: "45.31", b1_country: "Netherlands", b1_turnover: "12500000", b1_employees: "45",
                    b2_practices: "Installation of LED lighting and consolidation of shipments to reduce CO2 per delivery.",
                    b3_energy_total: "480", b3_energy_ren: "480", b3_energy_nonren: "0", b3_scope1: "48.5", b3_scope2: "0",
                    b4_pollution: "None", b5_sensitive: "0", b6_water: "450", b7_waste_haz: "0.2", b7_waste_recycled: "12",
                    b8_perm: "35", b8_temp: "10", b8_female: "16", b9_accidents: "1", b10_minwage: "Yes",
                    b11_convictions: "0", b11_fines: "0",
                    bp_code: "Yes", bp_grievance: "Yes", bp_payment: "30 days", bp_excluded_rev: "0%", bp_scope3_status: "Estimated", bp_climate_risks: "Physical risk: Heat (Low).",
                    c1_strategy: "Focus on EV parts.", c2_policies: "HSE committee reports to Board.", c3_targets: "Scope 1 -50% by 2030.", c4_risks: "Flooding risk (Low).",
                    c5_mgmt_gender: "40% Female", c6_policy: "Yes", c7_incidents: "None", c8_revenue: "0%", c9_board_gender: "25% Female"
                }));
            };

            // --- RENDER FUNCTIONS ---

            const renderChoiceSection = () => {
                return (
                <div className="min-h-screen bg-slate-50 py-12 px-4 sm:px-6 lg:px-8 font-sans flex items-center justify-center">
                    <div className="max-w-4xl w-full">
                        <div className="text-center mb-12">
                            <h2 className="text-4xl font-extrabold text-blue-900 mb-2">{t.choice.title} <span className="text-green-500">{formData.name}</span></h2>
                            <p className="text-xl text-gray-500">{t.choice.subtitle}</p>
                        </div>

                        <div className="grid md:grid-cols-2 gap-8">
                            {/* Subsidy Card */}
                            <div className="bg-white rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-shadow border-2 border-transparent hover:border-green-400 group cursor-pointer" onClick={() => setCurrentView('subsidy_tool')}>
                                <div className="bg-green-50 p-8 flex justify-center">
                                    <Calculator className="w-24 h-24 text-green-500 group-hover:scale-110 transition-transform" />
                                </div>
                                <div className="p-8 text-center">
                                    <h3 className="text-2xl font-bold text-gray-900 mb-4">{t.choice.card1_title}</h3>
                                    <p className="text-gray-600 mb-8">{t.choice.card1_desc}</p>
                                    <button className="w-full bg-green-500 text-white font-bold py-3 rounded-lg hover:bg-green-600 transition">
                                        {t.choice.card1_btn}
                                    </button>
                                </div>
                            </div>

                            {/* VSME Card */}
                            <div className="bg-white rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-shadow border-2 border-transparent hover:border-blue-400 group cursor-pointer" onClick={() => setCurrentView('vsme_tool')}>
                                <div className="bg-blue-50 p-8 flex justify-center">
                                    <FileBarChart className="w-24 h-24 text-blue-500 group-hover:scale-110 transition-transform" />
                                </div>
                                <div className="p-8 text-center">
                                    <h3 className="text-2xl font-bold text-gray-900 mb-4">{t.choice.card2_title}</h3>
                                    <p className="text-gray-600 mb-8">{t.choice.card2_desc}</p>
                                    <button className="w-full bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700 transition">
                                        {t.choice.card2_btn}
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div className="mt-12 text-center">
                            <button onClick={() => { setCurrentView('landing'); window.scrollTo(0,0); }} className="text-gray-400 hover:text-gray-600 underline">
                                Back to Home
                            </button>
                        </div>
                    </div>
                </div>
                );
            };

            const renderVSMETool = () => {
                // If in Report View
                if (vsmeView === 'report') {
                    return (
                        <div className="min-h-screen bg-gray-100 py-12 px-4 font-sans">
                            <div className="max-w-4xl mx-auto bg-white p-4 md:p-10 shadow-2xl rounded-xl">
                                <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 border-b pb-4 gap-4">
                                    <h1 className="text-2xl font-bold text-blue-900">VSME Report <span className="text-sm font-normal text-gray-500">({vsmeConfig.comprehensive ? 'Comprehensive' : 'Basic'})</span></h1>
                                    <div className="flex gap-2 print:hidden">
                                        <button onClick={() => window.print()} className="bg-blue-600 text-white px-4 py-2 rounded">Print / PDF</button>
                                        <button onClick={() => setVsmeView('setup')} className="bg-gray-200 px-4 py-2 rounded">New Report</button>
                                        <button onClick={() => setCurrentView('choice')} className="text-gray-500 px-4 py-2 hover:underline">Exit</button>
                                    </div>
                                </div>

                                <div className="space-y-8">
                                    <section>
                                        <h2 className="text-lg font-bold border-b border-gray-300 mb-4 pb-2">General & Strategy</h2>
                                        <div className="grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm">
                                            <div><strong>Company:</strong> {vsmeData.b1_name}</div>
                                            <div><strong>Basis:</strong> {vsmeData.b1_basis}</div>
                                            <div><strong>Turnover:</strong> â‚¬{vsmeData.b1_turnover}</div>
                                            <div><strong>Employees:</strong> {vsmeData.b1_employees}</div>
                                            <div className="col-span-1 sm:col-span-2 mt-2"><strong>Transition Practices:</strong><p className="bg-gray-50 p-2 rounded mt-1">{vsmeData.b2_practices}</p></div>
                                        </div>
                                    </section>

                                    <section>
                                        <h2 className="text-lg font-bold border-b border-gray-300 mb-4 pb-2">Environment</h2>
                                        <div className="grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm">
                                            <div><strong>Energy Total:</strong> {vsmeData.b3_energy_total} MWh</div>
                                            <div><strong>Renewable:</strong> {vsmeData.b3_energy_ren} MWh</div>
                                            <div><strong>Scope 1:</strong> {vsmeData.b3_scope1} tCO2e</div>
                                            <div><strong>Water:</strong> {vsmeData.b6_water} m3</div>
                                            <div><strong>Haz. Waste:</strong> {vsmeData.b7_waste_haz} T</div>
                                            <div><strong>Recycled:</strong> {vsmeData.b7_waste_recycled} T</div>
                                        </div>
                                    </section>

                                    <section>
                                        <h2 className="text-lg font-bold border-b border-gray-300 mb-4 pb-2">Social & Governance</h2>
                                        <div className="grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm">
                                            <div><strong>Perm. Staff:</strong> {vsmeData.b8_perm}</div>
                                            <div><strong>Accidents:</strong> {vsmeData.b9_accidents}</div>
                                            <div><strong>Min Wage:</strong> {vsmeData.b10_minwage}</div>
                                            <div><strong>Convictions:</strong> {vsmeData.b11_convictions}</div>
                                        </div>
                                    </section>

                                    {vsmeConfig.bpModule && (
                                        <section className="bg-indigo-50 p-6 rounded-lg border border-indigo-100">
                                            <h2 className="text-lg font-bold text-indigo-900 border-b border-indigo-200 mb-4 pb-2">Business Partner Module</h2>
                                            <div className="grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm">
                                                <div><strong>Supplier Code:</strong> {vsmeData.bp_code}</div>
                                                <div><strong>Grievance Mech:</strong> {vsmeData.bp_grievance}</div>
                                                <div><strong>Excluded Rev:</strong> {vsmeData.bp_excluded_rev}</div>
                                                <div><strong>Scope 3 Status:</strong> {vsmeData.bp_scope3_status}</div>
                                                <div className="col-span-1 sm:col-span-2"><strong>Climate Risks:</strong> {vsmeData.bp_climate_risks}</div>
                                            </div>
                                        </section>
                                    )}

                                    {vsmeConfig.comprehensive && (
                                        <section className="bg-teal-50 p-6 rounded-lg border border-teal-100">
                                            <h2 className="text-lg font-bold text-teal-900 border-b border-teal-200 mb-4 pb-2">Comprehensive Strategy</h2>
                                            <div className="space-y-3 text-sm">
                                                <div><strong>Strategy:</strong> {vsmeData.c1_strategy}</div>
                                                <div><strong>Targets:</strong> {vsmeData.c3_targets}</div>
                                                <div><strong>Mgmt Gender:</strong> {vsmeData.c5_mgmt_gender}</div>
                                            </div>
                                        </section>
                                    )}
                                </div>
                            </div>
                        </div>
                    );
                }

                // Wizard View
                if (vsmeView === 'wizard') {
                    const step = vsmeStepsList[vsmeStepIndex];
                    return (
                        <div className="min-h-screen bg-slate-50 py-12 px-4 font-sans">
                            <div className="max-w-3xl mx-auto bg-white rounded-xl shadow-xl overflow-hidden">
                                <div className="bg-blue-900 px-6 py-4 flex justify-between items-center text-white">
                                    <h2 className="font-bold flex items-center gap-2"><FileBarChart /> VSME Generator</h2>
                                    <span className="text-sm opacity-80">Step {vsmeStepIndex + 1}/{vsmeStepsList.length}</span>
                                </div>
                                
                                {/* Progress Bar */}
                                <div className="w-full bg-gray-200 h-1.5">
                                    <div className="bg-blue-500 h-1.5 transition-all duration-300" style={{ width: `${((vsmeStepIndex + 1) / vsmeStepsList.length) * 100}%` }}></div>
                                </div>

                                <div className="p-4 md:p-8">
                                    <div className="flex justify-end mb-4">
                                         <button onClick={fillFakeVsmeData} type="button" className="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200">ðŸª„ Auto Fill Demo Data</button>
                                    </div>

                                    {/* Step Content */}
                                    <div className="space-y-6">
                                        {step === 'gen' && (
                                            <div className="animate-fade-in">
                                                <h3 className="text-xl font-bold mb-4">General Information</h3>
                                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                                    <input className="border p-2 rounded" placeholder="Legal Name" value={vsmeData.b1_name} onChange={(e)=>handleVsmeChange('b1_name', e.target.value)} />
                                                    <input className="border p-2 rounded" placeholder="Legal Form" value={vsmeData.b1_legal_form} onChange={(e)=>handleVsmeChange('b1_legal_form', e.target.value)} />
                                                    <input className="border p-2 rounded" placeholder="Turnover (â‚¬)" value={vsmeData.b1_turnover} onChange={(e)=>handleVsmeChange('b1_turnover', e.target.value)} />
                                                    <input className="border p-2 rounded" placeholder="Employees" value={vsmeData.b1_employees} onChange={(e)=>handleVsmeChange('b1_employees', e.target.value)} />
                                                    <textarea className="col-span-1 md:col-span-2 border p-2 rounded h-24" placeholder="Transition Practices (e.g. LED lights)" value={vsmeData.b2_practices} onChange={(e)=>handleVsmeChange('b2_practices', e.target.value)} />
                                                </div>
                                            </div>
                                        )}
                                        {step === 'env' && (
                                            <div className="animate-fade-in">
                                                <h3 className="text-xl font-bold mb-4">Environment (B3-B7)</h3>
                                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                                    <input type="number" className="border p-2 rounded" placeholder="Total Energy (MWh)" value={vsmeData.b3_energy_total} onChange={(e)=>handleVsmeChange('b3_energy_total', e.target.value)} />
                                                    <input type="number" className="border p-2 rounded" placeholder="Scope 1 (tCO2e)" value={vsmeData.b3_scope1} onChange={(e)=>handleVsmeChange('b3_scope1', e.target.value)} />
                                                    <input type="number" className="border p-2 rounded" placeholder="Water (m3)" value={vsmeData.b6_water} onChange={(e)=>handleVsmeChange('b6_water', e.target.value)} />
                                                    <input type="number" className="border p-2 rounded" placeholder="Haz. Waste (T)" value={vsmeData.b7_waste_haz} onChange={(e)=>handleVsmeChange('b7_waste_haz', e.target.value)} />
                                                </div>
                                            </div>
                                        )}
                                        {step === 'soc' && (
                                            <div className="animate-fade-in">
                                                <h3 className="text-xl font-bold mb-4">Social (B8-B10)</h3>
                                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                                    <input type="number" className="border p-2 rounded" placeholder="Perm. Employees" value={vsmeData.b8_perm} onChange={(e)=>handleVsmeChange('b8_perm', e.target.value)} />
                                                    <input type="number" className="border p-2 rounded" placeholder="Accidents" value={vsmeData.b9_accidents} onChange={(e)=>handleVsmeChange('b9_accidents', e.target.value)} />
                                                </div>
                                            </div>
                                        )}
                                        {step === 'gov' && (
                                            <div className="animate-fade-in">
                                                <h3 className="text-xl font-bold mb-4">Governance (B11)</h3>
                                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                                    <input type="number" className="border p-2 rounded" placeholder="Convictions" value={vsmeData.b11_convictions} onChange={(e)=>handleVsmeChange('b11_convictions', e.target.value)} />
                                                </div>
                                            </div>
                                        )}
                                        {step === 'bp' && (
                                            <div className="animate-fade-in bg-indigo-50 p-4 rounded-lg">
                                                <h3 className="text-xl font-bold mb-4 text-indigo-900">Business Partners Module</h3>
                                                <div className="grid grid-cols-1 gap-4">
                                                    <select className="border p-2 rounded" value={vsmeData.bp_code} onChange={(e)=>handleVsmeChange('bp_code', e.target.value)}>
                                                        <option value="Yes">Supplier Code: Yes</option><option value="No">Supplier Code: No</option>
                                                    </select>
                                                    <input className="border p-2 rounded" placeholder="Excluded Revenue (%)" value={vsmeData.bp_excluded_rev} onChange={(e)=>handleVsmeChange('bp_excluded_rev', e.target.value)} />
                                                    <textarea className="border p-2 rounded h-20" placeholder="Climate Risks" value={vsmeData.bp_climate_risks} onChange={(e)=>handleVsmeChange('bp_climate_risks', e.target.value)} />
                                                </div>
                                            </div>
                                        )}
                                        {step === 'c1' && (
                                            <div className="animate-fade-in bg-teal-50 p-4 rounded-lg">
                                                <h3 className="text-xl font-bold mb-4 text-teal-900">Comprehensive Strategy</h3>
                                                <textarea className="w-full border p-2 rounded h-32 mb-4" placeholder="Business Strategy" value={vsmeData.c1_strategy} onChange={(e)=>handleVsmeChange('c1_strategy', e.target.value)} />
                                                <textarea className="w-full border p-2 rounded h-32" placeholder="GHG Targets" value={vsmeData.c3_targets} onChange={(e)=>handleVsmeChange('c3_targets', e.target.value)} />
                                            </div>
                                        )}
                                        {/* Skipping C2 for brevity in this simplified view, can act as C1+C2 */}
                                        {step === 'generate' && (
                                            <div className="text-center py-10 animate-fade-in">
                                                <div className="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
                                                    <CheckCircle className="w-10 h-10 text-green-600" />
                                                </div>
                                                <h3 className="text-2xl font-bold mb-2">Ready to Generate</h3>
                                                <p className="text-gray-600 mb-8">All required data has been collected.</p>
                                                <button onClick={() => setVsmeView('report')} className="bg-green-600 text-white px-8 py-3 rounded-lg font-bold shadow-lg hover:bg-green-700">
                                                    Generate Report
                                                </button>
                                            </div>
                                        )}
                                    </div>

                                    {/* Nav Buttons */}
                                    {step !== 'generate' && (
                                        <div className="flex justify-between mt-8 pt-4 border-t">
                                            <button onClick={() => {
                                                if(vsmeStepIndex > 0) setVsmeStepIndex(vsmeStepIndex - 1);
                                                else setVsmeView('setup');
                                            }} className="text-gray-500 font-semibold hover:text-gray-800">Back</button>
                                            <button onClick={() => setVsmeStepIndex(vsmeStepIndex + 1)} className="bg-blue-900 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-800">
                                                Next Step
                                            </button>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    );
                }

                // Setup View (Screening)
                return (
                    <div className="min-h-screen bg-slate-50 py-12 px-4 font-sans flex items-center justify-center">
                        <div className="max-w-2xl w-full bg-white rounded-xl shadow-xl p-6 md:p-8 border-t-4 border-blue-600">
                            <div className="mb-8">
                                <button onClick={() => setCurrentView('choice')} className="text-sm text-gray-400 mb-4 hover:text-gray-600">â† Back to Hub</button>
                                <h1 className="text-3xl font-bold text-gray-900 mb-2">VSME Wizard Setup</h1>
                                <p className="text-gray-600">Determine required reporting modules.</p>
                            </div>

                            <div className="space-y-6">
                                <div className="bg-gray-50 p-4 rounded-lg border">
                                    <label className="block font-bold mb-2">1. Are you listed on an EU market?</label>
                                    <div className="flex flex-col sm:flex-row gap-4">
                                        <label className="flex items-center gap-2 cursor-pointer"><input type="radio" name="isListed" value="yes" checked={vsmeData.isListed === 'yes'} onChange={(e)=>handleVsmeChange('isListed', e.target.value)} /> Yes</label>
                                        <label className="flex items-center gap-2 cursor-pointer"><input type="radio" name="isListed" value="no" checked={vsmeData.isListed === 'no'} onChange={(e)=>handleVsmeChange('isListed', e.target.value)} /> No</label>
                                    </div>
                                    {vsmeData.isListed === 'yes' && <p className="text-red-500 text-sm mt-2 font-bold">â›” Stop: You require full ESRS LSME.</p>}
                                </div>

                                <div className="bg-gray-50 p-4 rounded-lg border">
                                    <label className="block font-bold mb-2">2. Report Purpose?</label>
                                    <select className="w-full border p-2 rounded bg-white" value={vsmeData.reportPurpose} onChange={(e)=>handleVsmeChange('reportPurpose', e.target.value)}>
                                        <option value="basic">Internal Transparency (Basic)</option>
                                        <option value="partner">Bank / Partner Request (Basic + BP)</option>
                                    </select>
                                </div>

                                <div className="bg-gray-50 p-4 rounded-lg border">
                                    <label className="block font-bold mb-2">3. Formal Policies & Targets?</label>
                                    <div className="flex flex-col sm:flex-row gap-4">
                                        <label className="flex items-center gap-2 cursor-pointer"><input type="radio" name="hasPolicies" value="no" checked={vsmeData.hasPolicies === 'no'} onChange={(e)=>handleVsmeChange('hasPolicies', e.target.value)} /> No (Basic)</label>
                                        <label className="flex items-center gap-2 cursor-pointer"><input type="radio" name="hasPolicies" value="yes" checked={vsmeData.hasPolicies === 'yes'} onChange={(e)=>handleVsmeChange('hasPolicies', e.target.value)} /> Yes (Comprehensive)</label>
                                    </div>
                                </div>

                                <button 
                                    onClick={startVsmeApp} 
                                    disabled={vsmeData.isListed === 'yes'}
                                    className={`w-full bg-blue-600 text-white font-bold py-3 rounded-lg shadow-lg hover:bg-blue-700 transition ${vsmeData.isListed === 'yes' ? 'opacity-50 cursor-not-allowed' : ''}`}
                                >
                                    Start Assessment
                                </button>
                            </div>
                        </div>
                    </div>
                );
            };

            const renderSubsidyFinder = () => {
                return (
                <div className="min-h-screen bg-slate-50 py-12 px-4 sm:px-6 lg:px-8 font-sans">
                    <div className="max-w-3xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden">
                    
                    {/* Header */}
                    <div className="bg-blue-900 px-4 py-4 md:px-8 md:py-6 flex justify-between items-center text-white">
                        <h2 className="text-xl font-bold flex items-center gap-2">
                        <Calculator className="w-6 h-6 text-green-400" />
                        Demandio Subsidy Finder
                        </h2>
                        <div className="text-sm opacity-80">Step {subsidyStep > 4 ? subsidyStep - 1 : subsidyStep} / 5</div>
                    </div>

                    {/* Progress Bar */}
                    <div className="w-full bg-gray-200 h-2">
                        <div className="bg-green-500 h-2 transition-all duration-500" style={{ width: `${(subsidyStep > 4 ? (subsidyStep-1)/5 : subsidyStep/5)*100}%` }}></div>
                    </div>

                    <div className="p-4 md:p-8">
                        <button onClick={() => setCurrentView('choice')} className="text-sm text-gray-400 mb-4 hover:text-gray-600">â† Back to Hub</button>
                        {/* STEP 1: Gatekeeper */}
                        {subsidyStep === 1 && (
                        <div className="animate-fade-in">
                            <div className="mb-6 flex justify-center">
                                <div className="w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center">
                                <ShieldCheck className="w-10 h-10 text-blue-600" />
                                </div>
                            </div>
                            <h3 className="text-2xl font-bold text-center mb-4 text-gray-900">{tt.step1.title}</h3>
                            <p className="text-gray-600 text-center mb-8">{tt.step1.msg}</p>
                            
                            <div className="bg-blue-50 p-6 rounded-xl border border-blue-100 mb-8">
                            <p className="font-bold text-lg mb-4 text-blue-900">{tt.step1.q}</p>
                            <div className="space-y-3">
                                <button 
                                onClick={() => { setSubsidyData({...subsidyData, hasEH3: true}); setSubsidyStep(2); }}
                                className="w-full text-left px-4 py-3 bg-white border border-gray-200 rounded-lg hover:border-blue-500 hover:shadow-md transition flex items-center gap-2"
                                >
                                <CheckCircle className="w-5 h-5 text-green-500" /> {tt.step1.yes}
                                </button>
                                <button 
                                onClick={() => setSubsidyData({...subsidyData, hasEH3: false})}
                                className="w-full text-left px-4 py-3 bg-white border border-gray-200 rounded-lg hover:border-red-500 hover:shadow-md transition flex items-center gap-2"
                                >
                                <X className="w-5 h-5 text-red-500" /> {tt.step1.no}
                                </button>
                            </div>
                            </div>

                            {subsidyData.hasEH3 === false && (
                            <div className="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg mb-4 flex gap-3">
                                <AlertTriangle className="w-6 h-6 text-yellow-600 flex-shrink-0" />
                                <div>
                                <p className="text-sm text-yellow-800">{tt.step1.alert}</p>
                                <button onClick={() => setSubsidyStep(2)} className="text-blue-600 font-bold text-sm mt-2 hover:underline">
                                    Continue Check &rarr;
                                </button>
                                </div>
                            </div>
                            )}
                        </div>
                        )}

                        {/* STEP 2: 90-Day Rule */}
                        {subsidyStep === 2 && (
                        <div className="animate-fade-in">
                            <div className="mb-6 flex justify-center">
                                <div className="w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center">
                                <Calendar className="w-10 h-10 text-orange-600" />
                                </div>
                            </div>
                            <h3 className="text-2xl font-bold text-center mb-4 text-gray-900">{tt.step2.title}</h3>
                            <p className="text-gray-600 text-center mb-8">{tt.step2.msg}</p>

                            <div className="space-y-4 max-w-lg mx-auto">
                                <p className="font-bold text-lg mb-2 text-gray-900">{tt.step2.q}</p>
                                <button 
                                onClick={() => { setSubsidyData({...subsidyData, recentPurchase: true}); setSubsidyStep(3); }}
                                className="w-full text-left px-6 py-4 bg-white border-2 border-gray-100 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition font-medium"
                                >
                                {tt.step2.yes}
                                </button>
                                <button 
                                onClick={() => { setSubsidyData({...subsidyData, recentPurchase: false}); setSubsidyStep(3); }}
                                className="w-full text-left px-6 py-4 bg-white border-2 border-gray-100 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition font-medium"
                                >
                                {tt.step2.no}
                                </button>
                            </div>
                            
                            <div className="mt-8 flex justify-between">
                            <button onClick={() => setSubsidyStep(1)} className="text-gray-400 hover:text-gray-600">{tt.back}</button>
                            </div>
                        </div>
                        )}

                        {/* STEP 3: Categories & Embedded Questions */}
                        {subsidyStep === 3 && (
                        <div className="animate-fade-in">
                            <h3 className="text-2xl font-bold text-center mb-4 text-gray-900">{tt.step3.title}</h3>
                            <p className="text-gray-600 text-center mb-8">{tt.step3.msg}</p>

                            <div className="grid grid-cols-1 gap-4 mb-8">
                            {/* EV SECTION */}
                            <div className={`rounded-xl border-2 transition-all ${subsidyData.categories.includes('ev') ? 'border-blue-500 bg-blue-50/50' : 'border-gray-200 hover:border-blue-300'}`}>
                                <div 
                                onClick={() => handleCategoryToggle('ev')}
                                className="cursor-pointer p-4 flex items-center gap-3"
                                >
                                <div className={`p-2 rounded-lg ${subsidyData.categories.includes('ev') ? 'bg-blue-200' : 'bg-gray-100'}`}>
                                    <Zap className="w-6 h-6 text-gray-700" />
                                </div>
                                <span className="font-semibold text-lg">{tt.step3.opt_ev}</span>
                                {subsidyData.categories.includes('ev') && <CheckCircle className="ml-auto w-6 h-6 text-blue-600" />}
                                </div>
                                
                                {/* Embedded Questions for EV */}
                                {subsidyData.categories.includes('ev') && (
                                <div className="px-4 pb-4 pt-0 animate-fade-in">
                                    <div className="bg-white p-4 rounded-lg border border-blue-100 shadow-sm mt-2 ml-4 md:ml-12">
                                       <p className="text-sm font-bold text-gray-800 mb-2">{tt.step3.q_ev}</p>
                                       <div className="flex gap-2">
                                         <button onClick={() => setSubsidyData({...subsidyData, invoiceValue: true})} className={`px-3 py-1 text-sm rounded-md border transition ${subsidyData.invoiceValue === true ? 'bg-blue-600 text-white border-blue-600' : 'bg-gray-50 border-gray-200 hover:bg-gray-100'}`}>{tt.yes}</button>
                                         <button onClick={() => setSubsidyData({...subsidyData, invoiceValue: false})} className={`px-3 py-1 text-sm rounded-md border transition ${subsidyData.invoiceValue === false ? 'bg-blue-600 text-white border-blue-600' : 'bg-gray-50 border-gray-200 hover:bg-gray-100'}`}>{tt.no}</button>
                                       </div>
                                    </div>
                                </div>
                                )}
                            </div>

                            {/* FLEET SECTION */}
                            <div className={`rounded-xl border-2 transition-all ${subsidyData.categories.includes('fleet') ? 'border-orange-500 bg-orange-50/50' : 'border-gray-200 hover:border-orange-300'}`}>
                                <div 
                                onClick={() => handleCategoryToggle('fleet')}
                                className="cursor-pointer p-4 flex items-center gap-3"
                                >
                                <div className={`p-2 rounded-lg ${subsidyData.categories.includes('fleet') ? 'bg-orange-200' : 'bg-gray-100'}`}>
                                    <Truck className="w-6 h-6 text-gray-700" />
                                </div>
                                <span className="font-semibold text-lg">{tt.step3.opt_fleet}</span>
                                {subsidyData.categories.includes('fleet') && <CheckCircle className="ml-auto w-6 h-6 text-orange-600" />}
                                </div>
                                
                                {/* Embedded Questions for Fleet */}
                                {subsidyData.categories.includes('fleet') && (
                                <div className="px-4 pb-4 pt-0 animate-fade-in">
                                    <div className="bg-white p-4 rounded-lg border border-orange-100 shadow-sm mt-2 ml-4 md:ml-12 space-y-4">
                                       <div>
                                         <p className="text-sm font-bold text-gray-800 mb-2">{tt.step3.q_fleet_electric}</p>
                                         <div className="flex gap-2">
                                           <button onClick={() => setSubsidyData({...subsidyData, isElectricVehicle: true})} className={`px-3 py-1 text-sm rounded-md border transition ${subsidyData.isElectricVehicle === true ? 'bg-orange-500 text-white border-orange-500' : 'bg-gray-50 border-gray-200 hover:bg-gray-100'}`}>{tt.yes}</button>
                                           <button onClick={() => setSubsidyData({...subsidyData, isElectricVehicle: false})} className={`px-3 py-1 text-sm rounded-md border transition ${subsidyData.isElectricVehicle === false ? 'bg-orange-500 text-white border-orange-500' : 'bg-gray-50 border-gray-200 hover:bg-gray-100'}`}>{tt.no}</button>
                                         </div>
                                       </div>
                                       <div>
                                         <p className="text-sm font-bold text-gray-800 mb-2">{tt.step3.q_fleet_weight}</p>
                                         <div className="flex gap-2">
                                           <button onClick={() => setSubsidyData({...subsidyData, isHeavyVehicle: true})} className={`px-3 py-1 text-sm rounded-md border transition ${subsidyData.isHeavyVehicle === true ? 'bg-orange-500 text-white border-orange-500' : 'bg-gray-50 border-gray-200 hover:bg-gray-100'}`}>{tt.yes}</button>
                                           <button onClick={() => setSubsidyData({...subsidyData, isHeavyVehicle: false})} className={`px-3 py-1 text-sm rounded-md border transition ${subsidyData.isHeavyVehicle === false ? 'bg-orange-500 text-white border-orange-500' : 'bg-gray-50 border-gray-200 hover:bg-gray-100'}`}>{tt.no}</button>
                                         </div>
                                       </div>
                                    </div>
                                </div>
                                )}
                            </div>

                            {/* BUILDING SECTION (No questions) */}
                            <div className={`rounded-xl border-2 transition-all ${subsidyData.categories.includes('building') ? 'border-green-500 bg-green-50/50' : 'border-gray-200 hover:border-green-300'}`}>
                                <div 
                                onClick={() => handleCategoryToggle('building')}
                                className="cursor-pointer p-4 flex items-center gap-3"
                                >
                                <div className={`p-2 rounded-lg ${subsidyData.categories.includes('building') ? 'bg-green-200' : 'bg-gray-100'}`}>
                                    <Home className="w-6 h-6 text-gray-700" />
                                </div>
                                <span className="font-semibold text-lg">{tt.step3.opt_building}</span>
                                {subsidyData.categories.includes('building') && <CheckCircle className="ml-auto w-6 h-6 text-green-600" />}
                                </div>
                            </div>

                            {/* TRAINING SECTION */}
                            <div className={`rounded-xl border-2 transition-all ${subsidyData.categories.includes('training') ? 'border-purple-500 bg-purple-50/50' : 'border-gray-200 hover:border-purple-300'}`}>
                                <div 
                                onClick={() => handleCategoryToggle('training')}
                                className="cursor-pointer p-4 flex items-center gap-3"
                                >
                                <div className={`p-2 rounded-lg ${subsidyData.categories.includes('training') ? 'bg-purple-200' : 'bg-gray-100'}`}>
                                    <GraduationCap className="w-6 h-6 text-gray-700" />
                                </div>
                                <span className="font-semibold text-lg">{tt.step3.opt_training}</span>
                                {subsidyData.categories.includes('training') && <CheckCircle className="ml-auto w-6 h-6 text-purple-600" />}
                                </div>

                                 {/* Embedded Questions for Training */}
                                 {subsidyData.categories.includes('training') && (
                                  <div className="px-4 pb-4 pt-0 animate-fade-in">
                                    <div className="bg-white p-4 rounded-lg border border-purple-100 shadow-sm mt-2 ml-4 md:ml-12">
                                       <p className="text-sm font-bold text-gray-800 mb-2">{tt.step3.q_training}</p>
                                       <div className="flex gap-2">
                                         <button onClick={() => setSubsidyData({...subsidyData, smallStaff: true})} className={`px-3 py-1 text-sm rounded-md border transition ${subsidyData.smallStaff === true ? 'bg-purple-600 text-white border-purple-600' : 'bg-gray-50 border-gray-200 hover:bg-gray-100'}`}>{tt.yes}</button>
                                         <button onClick={() => setSubsidyData({...subsidyData, smallStaff: false})} className={`px-3 py-1 text-sm rounded-md border transition ${subsidyData.smallStaff === false ? 'bg-purple-600 text-white border-purple-600' : 'bg-gray-50 border-gray-200 hover:bg-gray-100'}`}>{tt.no}</button>
                                       </div>
                                    </div>
                                  </div>
                                )}
                            </div>

                            </div>
                            
                            <div className="flex justify-between items-center">
                            <button onClick={() => setSubsidyStep(2)} className="text-gray-400 hover:text-gray-600">{tt.back}</button>
                            <button 
                                onClick={nextFromStep3}
                                className="bg-blue-900 text-white px-8 py-3 rounded-lg font-bold hover:bg-blue-800 transition shadow-lg"
                            >
                                {tt.next} &rarr;
                            </button>
                            </div>
                        </div>
                        )}

                        {/* STEP 5: Results (Now logically step 4) */}
                        {subsidyStep === 5 && (
                        <div className="animate-fade-in">
                             <div className="text-center mb-8">
                               <h3 className="text-2xl font-bold text-gray-900 mb-2">{tt.step5.title}</h3>
                               <p className="text-gray-600">{tt.step5.msg}</p>
                             </div>

                             <div className="grid gap-4 mb-8">
                                {calculateSubsidies().map((item, index) => (
                                  <div key={index} className="bg-white border-2 border-green-500 p-6 rounded-xl shadow-lg relative overflow-hidden group hover:scale-105 transition-transform">
                                    <div className="absolute top-0 right-0 bg-green-500 text-white text-xs font-bold px-3 py-1 rounded-bl-lg">ELIGIBLE</div>
                                    <h4 className="text-xl font-extrabold text-blue-900 mb-2 flex items-center gap-2">
                                      <CheckCircle className="text-green-500" /> {item.title}
                                    </h4>
                                    <p className="text-gray-600 font-medium">{item.desc}</p>
                                  </div>
                                ))}
                                
                                {calculateSubsidies().length === 0 && (
                                  <div className="bg-gray-50 p-6 rounded-xl text-center border border-gray-200">
                                    <p>Based on inputs, no specific standard subsidies match, but contact us for a custom check.</p>
                                  </div>
                                )}
                             </div>

                             <button 
                                onClick={() => setSubsidyStep(6)}
                                className="w-full bg-green-500 text-blue-900 px-8 py-4 rounded-xl font-bold hover:bg-green-400 transition shadow-lg text-lg animate-pulse"
                              >
                                Claim Opportunities &rarr;
                              </button>
                        </div>
                        )}

                         {/* STEP 6: CTA */}
                         {subsidyStep === 6 && (
                          <div className="animate-fade-in text-center">
                             <div className="w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
                               <Euro className="w-12 h-12 text-green-600" />
                             </div>
                             <h3 className="text-3xl font-extrabold text-gray-900 mb-4">{tt.step6.title}</h3>
                             <p className="text-gray-600 mb-8 text-lg">{tt.step6.msg}</p>

                             <div className="grid gap-4 max-w-md mx-auto">
                               <button className="flex items-center justify-center gap-3 bg-blue-900 text-white p-4 rounded-xl font-bold hover:bg-blue-800 transition shadow-lg">
                                  <FileText /> {tt.step6.btn_esg}
                               </button>
                               <button className="flex items-center justify-center gap-3 bg-white text-blue-900 border-2 border-blue-900 p-4 rounded-xl font-bold hover:bg-blue-50 transition">
                                  <Send /> {tt.step6.btn_acc}
                               </button>
                               <button className="flex items-center justify-center gap-3 bg-gray-100 text-gray-700 p-4 rounded-xl font-bold hover:bg-gray-200 transition">
                                  <HelpCircle /> {tt.step6.btn_consult}
                               </button>
                             </div>
                             
                             <div className="mt-8 pt-8 border-t border-gray-100">
                                <button onClick={() => window.location.reload()} className="text-sm text-gray-400 hover:text-gray-600">Back to Home</button>
                             </div>
                          </div>
                        )}

                    </div>
                    </div>
                </div>
                );
            };

            // Main Render Switch
            if (currentView === 'choice') {
                return renderChoiceSection();
            }
            
            if (currentView === 'subsidy_tool') {
                return renderSubsidyFinder();
            }

            if (currentView === 'vsme_tool') {
                return renderVSMETool();
            }

            // --- LANDING PAGE RENDER ---
            return (
                <div className="min-h-screen bg-gray-50 font-sans text-gray-800">
                {/* Navigation */}
                <nav className="bg-white shadow-sm fixed w-full z-50">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div className="flex justify-between h-16 items-center">
                        <div className="flex items-center cursor-pointer" onClick={() => setActiveRole(null)}>
                        <span className="text-2xl font-bold text-blue-900 flex items-center gap-2">
                            <div className="bg-blue-600 p-1.5 rounded-lg">
                            <Car className="text-white w-6 h-6" />
                            </div>
                            Demandio
                        </span>
                        </div>
                        
                        {/* Desktop Nav */}
                        <div className="hidden md:flex items-center space-x-8">
                        <a href="#roles" className="text-gray-600 hover:text-blue-600 font-medium">{t.nav.solutions}</a>
                        <a href="#news" className="text-gray-600 hover:text-blue-600 font-medium">{t.nav.news}</a>
                        <a href="#subsidyroadmap" className="text-gray-600 hover:text-blue-600 font-medium">{t.nav.subsidy_guide}</a>
                        <button 
                            onClick={() => setLang(lang === 'en' ? 'nl' : 'en')}
                            className="flex items-center gap-1 bg-gray-100 px-3 py-1 rounded-full text-sm font-medium text-gray-700 hover:bg-gray-200 transition"
                        >
                            <Globe className="w-4 h-4" />
                            {lang === 'en' ? 'NL' : 'EN'}
                        </button>
                        <a href="#contact" className="bg-blue-900 text-white px-5 py-2 rounded-lg hover:bg-blue-800 transition font-medium">
                            {t.nav.contact}
                        </a>
                        </div>

                        {/* Mobile Menu Button */}
                        <div className="md:hidden flex items-center gap-4">
                           <button 
                            onClick={() => setLang(lang === 'en' ? 'nl' : 'en')}
                            className="flex items-center gap-1 bg-gray-100 px-2 py-1 rounded-full text-xs font-bold text-gray-700"
                        >
                            {lang.toUpperCase()}
                        </button>
                        <button onClick={() => setMobileMenuOpen(!mobileMenuOpen)}>
                            {mobileMenuOpen ? <X /> : <Menu />}
                        </button>
                        </div>
                    </div>
                    </div>

                    {/* Mobile Nav */}
                    {mobileMenuOpen && (
                    <div className="md:hidden bg-white border-t p-4 space-y-4">
                        <a href="#roles" className="block text-gray-600 font-medium">{t.nav.solutions}</a>
                        <a href="#news" className="block text-gray-600 font-medium">{t.nav.news}</a>
                        <a href="#contact" className="block text-blue-600 font-bold">{t.nav.contact}</a>
                    </div>
                    )}
                </nav>

                {/* Hero Section */}
                <div className="pt-24 pb-12 md:pt-32 md:pb-20 bg-slate-900 text-white relative overflow-hidden">
                    {/* Background Elements */}
                    <div className="absolute top-0 right-0 w-2/3 h-full bg-blue-900 opacity-20 transform -skew-x-12 translate-x-32"></div>
                    <div className="absolute bottom-0 left-0 w-96 h-96 bg-blue-600 opacity-10 rounded-full blur-3xl"></div>

                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center">
                    <h1 className="text-3xl md:text-5xl lg:text-6xl font-extrabold tracking-tight mb-6 leading-tight max-w-5xl mx-auto">
                        {t.hero.title}
                    </h1>
                    <p className="text-lg md:text-xl text-blue-100 max-w-3xl mx-auto mb-10 font-light leading-relaxed">
                        {t.hero.subtitle}
                    </p>
                    
                    <div className="flex justify-center mb-16">
                        <button 
                        onClick={() => document.getElementById('contact').scrollIntoView({behavior: 'smooth'})}
                        className="bg-green-500 hover:bg-green-400 text-slate-900 text-lg font-bold py-4 px-8 rounded-full shadow-lg transform hover:scale-105 transition-all flex items-center gap-3"
                        >
                        <Calculator className="w-5 h-5" />
                        {t.hero.cta}
                        </button>
                    </div>

                    {/* Social Proof Badges & Stats */}
                    <div className="border-t border-white/10 pt-8 mt-8">
                        <div className="flex flex-col md:flex-row justify-between items-center gap-8 text-blue-200 text-sm font-semibold max-w-4xl mx-auto">
                           <div className="flex items-center gap-2">
                             <TrendingUp className="w-5 h-5 text-green-400" />
                             {t.stats.claimed}
                           </div>
                           <div className="flex items-center gap-2">
                             <Users className="w-5 h-5 text-blue-400" />
                             {t.stats.garages}
                           </div>
                           <div className="flex items-center gap-2">
                             <ShieldCheck className="w-5 h-5 text-yellow-400" />
                             {t.trust_badges.bovag}
                           </div>
                        </div>
                    </div>
                    </div>
                </div>

                {/* Role Selection Section */}
                <div id="roles" className="py-20 bg-white">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div className="text-center mb-12">
                        <h2 className="text-2xl font-bold text-gray-900 uppercase tracking-wider">{t.roles.title}</h2>
                    </div>
                    
                    <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4">
                        <button 
                        onClick={() => handleRoleSelect('garage_owner')}
                        className={`p-6 rounded-xl border-2 transition-all duration-300 text-center flex flex-col items-center hover:shadow-lg
                            ${activeRole === 'garage_owner' 
                            ? 'bg-blue-50 border-blue-600 text-blue-900 shadow-md scale-105 z-10' 
                            : 'bg-white border-gray-100 text-gray-600 hover:border-blue-200'}`}
                        >
                        <Briefcase className={`w-10 h-10 mb-4 ${activeRole === 'garage_owner' ? 'text-blue-600' : 'text-gray-400'}`} />
                        <h3 className="font-bold text-lg">{t.roles.garage_owner}</h3>
                        </button>

                        <button 
                        onClick={() => handleRoleSelect('advisor')}
                        className={`p-6 rounded-xl border-2 transition-all duration-300 text-center flex flex-col items-center hover:shadow-lg
                            ${activeRole === 'advisor' 
                            ? 'bg-blue-50 border-blue-600 text-blue-900 shadow-md scale-105 z-10' 
                            : 'bg-white border-gray-100 text-gray-600 hover:border-blue-200'}`}
                        >
                        <Car className={`w-10 h-10 mb-4 ${activeRole === 'advisor' ? 'text-blue-600' : 'text-gray-400'}`} />
                        <h3 className="font-bold text-lg">{t.roles.advisor}</h3>
                        </button>

                        <button 
                        onClick={() => handleRoleSelect('mechanic')}
                        className={`p-6 rounded-xl border-2 transition-all duration-300 text-center flex flex-col items-center hover:shadow-lg
                            ${activeRole === 'mechanic' 
                            ? 'bg-blue-50 border-blue-600 text-blue-900 shadow-md scale-105 z-10' 
                            : 'bg-white border-gray-100 text-gray-600 hover:border-blue-200'}`}
                        >
                        <Wrench className={`w-10 h-10 mb-4 ${activeRole === 'mechanic' ? 'text-blue-600' : 'text-gray-400'}`} />
                        <h3 className="font-bold text-lg">{t.roles.mechanic}</h3>
                        </button>

                        <button 
                        onClick={() => handleRoleSelect('warehouse')}
                        className={`p-6 rounded-xl border-2 transition-all duration-300 text-center flex flex-col items-center hover:shadow-lg
                            ${activeRole === 'warehouse' 
                            ? 'bg-blue-50 border-blue-600 text-blue-900 shadow-md scale-105 z-10' 
                            : 'bg-white border-gray-100 text-gray-600 hover:border-blue-200'}`}
                        >
                        <Package className={`w-10 h-10 mb-4 ${activeRole === 'warehouse' ? 'text-blue-600' : 'text-gray-400'}`} />
                        <h3 className="font-bold text-lg">{t.roles.warehouse}</h3>
                        </button>

                        <button 
                        onClick={() => handleRoleSelect('financial')}
                        className={`p-6 rounded-xl border-2 transition-all duration-300 text-center flex flex-col items-center hover:shadow-lg
                            ${activeRole === 'financial' 
                            ? 'bg-blue-50 border-blue-600 text-blue-900 shadow-md scale-105 z-10' 
                            : 'bg-white border-gray-100 text-gray-600 hover:border-blue-200'}`}
                        >
                        <Euro className={`w-10 h-10 mb-4 ${activeRole === 'financial' ? 'text-blue-600' : 'text-gray-400'}`} />
                        <h3 className="font-bold text-lg">{t.roles.financial}</h3>
                        </button>
                    </div>
                    </div>
                </div>

                {/* Dynamic Solutions Section */}
                <div id="solutions-section" className={`transition-all duration-500 bg-gray-50 border-t border-gray-200 ${activeRole ? 'block' : 'hidden'}`}>
                    {activeRole && (
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
                        <div className="flex justify-between items-end mb-10">
                        <div>
                            <h2 className="text-3xl font-bold text-gray-900">{t.solutions.title}: <span className="text-blue-600">{t.roles[activeRole]}</span></h2>
                            <button 
                            onClick={() => setActiveRole(null)} 
                            className="text-gray-500 hover:text-blue-600 text-sm mt-2 flex items-center font-medium"
                            >
                            â† {t.solutions.back}
                            </button>
                        </div>
                        </div>

                        <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                        {opportunities[activeRole].map((opp) => (
                            <div key={opp.id} className="bg-white rounded-2xl shadow-sm border border-gray-200 hover:shadow-xl hover:border-blue-200 transition-all p-8 flex flex-col h-full group">
                            <div className="flex justify-between items-start mb-6">
                                <div className="bg-blue-50 w-16 h-16 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform">
                                {opp.icon}
                                </div>
                                <span className="inline-block bg-green-100 text-green-800 text-xs font-bold px-3 py-1 rounded-full">
                                {opp.tag[lang]}
                                </span>
                            </div>
                            
                            <h3 className="text-xl font-bold text-gray-900 mb-2">{opp.title[lang]}</h3>
                            
                            {/* Pain Point */}
                            <div className="mb-4 bg-red-50 p-3 rounded-lg border border-red-100">
                                <p className="text-xs text-red-800 font-bold uppercase mb-1">Pain Point</p>
                                <p className="text-sm text-red-900 italic">"{opp.pain[lang]}"</p>
                            </div>

                            <p className="text-gray-600 leading-relaxed flex-grow">
                                {opp.desc[lang]}
                            </p>
                            <div className="mt-6 pt-6 border-t border-gray-100">
                                <button 
                                   onClick={() => document.getElementById('contact').scrollIntoView({behavior: 'smooth'})}
                                   className="w-full flex items-center justify-center gap-2 text-blue-600 font-bold hover:bg-blue-50 py-3 rounded-lg transition"
                                >
                                {lang === 'en' ? 'See Demo' : 'Bekijk Demo'} <ChevronRight className="w-4 h-4" />
                                </button>
                            </div>
                            </div>
                        ))}
                        </div>
                    </div>
                    )}
                </div>

                {/* News Section */}
                <div id="news" className="py-20 bg-white border-t border-gray-100">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div className="text-center mb-16">
                        <h2 className="text-3xl font-bold text-gray-900 mb-2">{t.news.title}</h2>
                        <p className="text-gray-500">{t.news.subtitle}</p>
                    </div>

                    <div className="grid md:grid-cols-3 gap-8">
                        {t.news.items.map((item, idx) => (
                        <div key={idx} className="bg-white border border-gray-200 rounded-xl p-6 hover:shadow-lg transition flex flex-col h-full">
                            <div className="flex justify-between items-start mb-4">
                            <span className="text-xs font-bold bg-blue-100 text-blue-800 px-2 py-1 rounded">{item.source}</span>
                            <span className="text-xs text-gray-400">{item.date}</span>
                            </div>
                            <h3 className="font-bold text-lg text-gray-900 mb-2">{item.title}</h3>
                            <p className="text-gray-600 text-sm flex-grow mb-4">{item.desc}</p>
                            <a href={item.link} className="text-blue-600 text-sm font-bold flex items-center gap-1 hover:underline mt-auto">
                            {t.news.read_more} <ExternalLink className="w-3 h-3" />
                            </a>
                        </div>
                        ))}
                    </div>
                    </div>
                </div>

                   {/* Subsidy Roadmap Section */}
                   <div id="subsidyroadmap" className="py-24 bg-blue-900 text-white">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div className="text-center mb-16">
                        <h2 className="text-3xl md:text-4xl font-extrabold mb-4">{t.subsidy_roadmap.title}</h2>
                        <p className="text-xl text-blue-200">{t.subsidy_roadmap.subtitle}</p>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-4 gap-8">
                        {/* Step 1 */}
                        <div className="bg-blue-800/50 p-6 rounded-xl border border-blue-700 hover:bg-blue-800 transition">
                        <div className="text-4xl font-bold text-green-400 mb-4">01</div>
                        <h3 className="text-xl font-bold mb-2">{t.subsidy_roadmap.step1}</h3>
                        <p className="text-blue-200">{t.subsidy_roadmap.step1_desc}</p>
                        </div>
                        {/* Step 2 */}
                        <div className="bg-blue-800/50 p-6 rounded-xl border border-blue-700 hover:bg-blue-800 transition">
                        <div className="text-4xl font-bold text-green-400 mb-4">02</div>
                        <h3 className="text-xl font-bold mb-2">{t.subsidy_roadmap.step2}</h3>
                        <p className="text-blue-200">{t.subsidy_roadmap.step2_desc}</p>
                        </div>
                        {/* Step 3 */}
                        <div className="bg-blue-800/50 p-6 rounded-xl border border-blue-700 hover:bg-blue-800 transition">
                        <div className="text-4xl font-bold text-green-400 mb-4">03</div>
                        <h3 className="text-xl font-bold mb-2">{t.subsidy_roadmap.step3}</h3>
                        <p className="text-blue-200">{t.subsidy_roadmap.step3_desc}</p>
                        </div>
                        {/* Step 4 */}
                        <div className="bg-blue-800/50 p-6 rounded-xl border border-blue-700 hover:bg-blue-800 transition">
                        <div className="text-4xl font-bold text-green-400 mb-4">04</div>
                        <h3 className="text-xl font-bold mb-2">{t.subsidy_roadmap.step4}</h3>
                        <p className="text-blue-200">{t.subsidy_roadmap.step4_desc}</p>
                        </div>
                    </div>

                    <div className="mt-12 text-center">
                        <button 
                        onClick={() => document.getElementById('contact').scrollIntoView({behavior: 'smooth'})}
                        className="bg-green-500 hover:bg-green-400 text-blue-900 font-bold py-4 px-10 rounded-full shadow-lg transform hover:scale-105 transition-all flex items-center gap-2 mx-auto"
                        >
                        <Banknote className="w-5 h-5" />
                        {t.subsidy_roadmap.cta}
                        </button>
                    </div>
                    </div>
                </div>

                {/* Testimonials / Trust Section */}
                <div className="py-20 bg-gray-50">
                    <div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div className="text-center mb-16">
                        <h2 className="text-3xl font-bold text-gray-900">{t.testimonials.title}</h2>
                    </div>
                    <div className="grid md:grid-cols-2 gap-8">
                        <div className="bg-white p-8 rounded-2xl shadow-sm border border-gray-100 relative">
                        <Quote className="w-10 h-10 text-blue-100 absolute top-6 left-6" />
                        <p className="text-gray-600 text-lg italic mb-6 relative z-10">"{t.testimonials.t1_quote}"</p>
                        <div className="flex items-center gap-4">
                            <div className="w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center font-bold text-gray-500">JD</div>
                            <div>
                            <p className="font-bold text-gray-900">{t.testimonials.t1_author}</p>
                            <div className="flex text-yellow-400 text-sm">â˜…â˜…â˜…â˜…â˜…</div>
                            </div>
                        </div>
                        </div>
                        <div className="bg-white p-8 rounded-2xl shadow-sm border border-gray-100 relative">
                        <Quote className="w-10 h-10 text-green-100 absolute top-6 left-6" />
                        <p className="text-gray-600 text-lg italic mb-6 relative z-10">"{t.testimonials.t2_quote}"</p>
                        <div className="flex items-center gap-4">
                            <div className="w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center font-bold text-gray-500">SJ</div>
                            <div>
                            <p className="font-bold text-gray-900">{t.testimonials.t2_author}</p>
                            <div className="flex text-yellow-400 text-sm">â˜…â˜…â˜…â˜…â˜…</div>
                            </div>
                        </div>
                        </div>
                    </div>
                    </div>
                </div>

                {/* Contact / Lead Gen Form */}
                <div id="contact" className="bg-white py-20 border-t border-gray-200">
                    <div className="max-w-xl mx-auto px-4">
                    <div className="bg-white rounded-2xl shadow-xl p-8 md:p-10 border border-gray-100">
                        {formSubmitted ? (
                        <div className="text-center py-10">
                            <div className="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
                            <CheckCircle className="w-10 h-10 text-green-600" />
                            </div>
                            <h3 className="text-2xl font-bold text-gray-900 mb-2">Bedankt!</h3>
                            <p className="text-gray-600">{t.form.success}</p>
                        </div>
                        ) : (
                        <form onSubmit={handleFormSubmit}>
                            <div className="text-center mb-8">
                            <h2 className="text-3xl font-bold text-gray-900">{t.form.title}</h2>
                            <p className="text-gray-500 mt-2">
                                {activeRole 
                                ? (lang === 'en' ? `Unlock the potential for: ${t.roles[activeRole]}` : `Ontgrendel het potentieel voor: ${t.roles[activeRole]}`)
                                : (lang === 'en' ? "Check your subsidy eligibility in 2 minutes." : "Check uw subsidie-aanmerking in 2 minuten.")
                                }
                            </p>
                            </div>

                            <div className="space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-1">{t.form.name}</label>
                                <div className="relative">
                                <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <User className="h-5 w-5 text-gray-400" />
                                </div>
                                <input 
                                    type="text" 
                                    required
                                    className="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition bg-gray-50"
                                    placeholder={lang === 'en' ? "John Doe" : "Jan Jansen"}
                                    value={formData.name}
                                    onChange={(e) => setFormData({...formData, name: e.target.value})}
                                />
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-1">{t.form.email}</label>
                                <input 
                                type="email" 
                                required
                                className="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition bg-gray-50"
                                placeholder="naam@bedrijf.nl"
                                value={formData.email}
                                onChange={(e) => setFormData({...formData, email: e.target.value})}
                                />
                            </div>

                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                <label className="block text-sm font-medium text-gray-700 mb-1">{t.form.company}</label>
                                <div className="relative">
                                    <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <Briefcase className="h-5 w-5 text-gray-400" />
                                    </div>
                                    <input 
                                    type="text" 
                                    className="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition bg-gray-50"
                                    placeholder={lang === 'en' ? "Garage Name" : "Uw Bedrijf"}
                                    value={formData.company}
                                    onChange={(e) => setFormData({...formData, company: e.target.value})}
                                    />
                                </div>
                                </div>
                                <div>
                                <label className="block text-sm font-medium text-gray-700 mb-1">{t.form.city}</label>
                                <div className="relative">
                                    <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <MapPin className="h-5 w-5 text-gray-400" />
                                    </div>
                                    <input 
                                    type="text" 
                                    required
                                    className="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition bg-gray-50"
                                    placeholder={lang === 'en' ? "Amsterdam" : "Utrecht"}
                                    value={formData.city}
                                    onChange={(e) => setFormData({...formData, city: e.target.value})}
                                    />
                                </div>
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-1">{t.form.role}</label>
                                <select 
                                    className="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition bg-gray-50"
                                    value={formData.role}
                                    onChange={(e) => setFormData({...formData, role: e.target.value})}
                                    required
                                >
                                    <option value="" disabled>{t.form.role_placeholder}</option>
                                    <option value="owner">{t.roles.garage_owner}</option>
                                    <option value="mechanic">{t.roles.mechanic}</option>
                                    <option value="advisor">{t.roles.advisor}</option>
                                    <option value="financial">{t.roles.financial}</option>
                                    <option value="other">{t.form.role_other}</option>
                                </select>
                            </div>

                            {formData.role === 'other' && (
                                <div className="animate-fade-in-down">
                                <input 
                                    type="text" 
                                    required
                                    className="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition bg-white"
                                    placeholder={t.form.custom_role_placeholder}
                                    value={formData.customRole}
                                    onChange={(e) => setFormData({...formData, customRole: e.target.value})}
                                />
                                </div>
                            )}

                            <div className="flex items-start gap-3 mt-4">
                                <div className="flex items-center h-5">
                                <input
                                    id="newsletter"
                                    name="newsletter"
                                    type="checkbox"
                                    className="focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"
                                    checked={formData.newsletter}
                                    onChange={(e) => setFormData({...formData, newsletter: e.target.checked})}
                                />
                                </div>
                                <div className="text-sm">
                                <label htmlFor="newsletter" className="font-medium text-gray-700">
                                    {t.form.newsletter}
                                </label>
                                </div>
                            </div>

                            <button 
                                type="submit" 
                                className="w-full bg-blue-900 text-white font-bold text-lg py-4 rounded-lg hover:bg-blue-800 transition flex items-center justify-center gap-2 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 mt-4"
                            >
                                {t.form.submit} <ArrowRight className="w-5 h-5" />
                            </button>
                            </div>
                        </form>
                        )}
                    </div>
                    </div>
                </div>

                {/* Footer */}
                <footer className="bg-slate-900 text-slate-400 py-12 text-center border-t border-slate-800">
                    <div className="flex justify-center items-center gap-2 mb-4">
                        <Car className="text-white w-6 h-6" />
                        <span className="text-xl font-bold text-white">Demandio</span>
                    </div>
                    <p>{t.footer.rights}</p>
                    <div className="mt-4 flex justify-center gap-6 text-sm">
                    <a href="#" className="hover:text-white transition">Privacy</a>
                    <a href="#" className="hover:text-white transition">Terms</a>
                    <a href="#" className="hover:text-white transition">LinkedIn</a>
                    </div>
                </footer>
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<Demandio />);
    </script>
</body>
</html>